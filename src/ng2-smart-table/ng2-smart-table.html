<table class="table" [id]="grid.getSetting('attr.id')" [ngClass]="grid.getSetting('attr.class')">
    <thead class="table__header" *ngIf="!grid.getSetting('hideHeader') || !grid.getSetting('hideSubHeader')">
        <tr *ngIf="!grid.getSetting('hideHeader')">
            <th *ngIf="grid.isMultiSelectVisible()" (click)="selectAllRows()">
                <input type="checkbox" [ngModel]="isAllSelected">
            </th>
            <th *ngFor="let column of grid.getColumns()" [ngClass]="column.class">
                <ng2-smart-table-title
                    [source]="source"
                    [column]="column"
                    (sort)="sort($event)">
                </ng2-smart-table-title>
            </th>
            <th *ngIf="grid.showActionColumn('right')">
                {{ grid.getSetting('actions.columnTitle') }}
            </th>
        </tr>

        <tr class="hide" *ngIf="!grid.getSetting('hideSubHeader')">
            <th *ngIf="grid.isMultiSelectVisible()"></th>
            <th *ngFor="let column of grid.getColumns()">
                <ng2-smart-table-filter
                    [source]="source"
                    [column]="column"
                    [inputClass]="grid.getSetting('filter.inputClass')"
                    (filter)="filter($event)">
                </ng2-smart-table-filter>
            </th>
            <th>
                <a *ngIf="grid.getSetting('actions.add')"
                    href="#"
                    class="js-add-item"
                    [innerHTML]="grid.getSetting('add.addButtonContent')"
                    (click)="onAdd($event)">
                </a>
            </th>
        </tr>

        <tr class="table__header__row--neutral" *ngIf="grid.createFormShown">
            <td *ngIf="grid.isMultiSelectVisible()"></td>
            <td *ngFor="let cell of grid.getNewRow().getCells()">
                <ng2-smart-table-cell
                    [cell]="cell"
                    [inputClass]="grid.getSetting('add.inputClass')"
                    [isInEditing]="grid.getNewRow().isInEditing"
                    (edited)="onCreate(grid.getNewRow(), $event)">
                </ng2-smart-table-cell>
            </td>
            <td>
                <a href="#"
                    [innerHTML]="grid.getSetting('add.createButtonContent')"
                    (click)="onCreate(grid.getNewRow(), $event)">
                </a>
                <a href="#"
                    [innerHTML]="grid.getSetting('add.cancelButtonContent')"
                    (click)="grid.createFormShown = false;">
                </a>
            </td>
        </tr>
    </thead>
    <tbody class="table__body">
        <tr *ngFor="let row of grid.getRows()" (click)="onUserSelectRow(row)" [ngClass]="{ selected: row.isSelected }">
            <td *ngIf="grid.isMultiSelectVisible()"
                (click)="multipleSelectRow(row)">
                <input type="checkbox" [ngModel]="row.isSelected">
            </td>
            <td *ngFor="let cell of row.getCells()">
                <ng2-smart-table-cell
                    [cell]="cell"
                    [mode]="grid.getSetting('mode')"
                    [inputClass]="grid.getSetting('edit.inputClass')"
                    [isInEditing]="row.isInEditing"
                    (edited)="onSave(row, $event)">
                </ng2-smart-table-cell>
            </td>
            <td class="table__actions" *ngIf="!row.isInEditing && grid.showActionColumn('right')">
                <button class="button button--clean" type="button" *ngIf="grid.getSetting('actions.edit')"
                    [innerHTML]="grid.getSetting('edit.editButtonContent')"
                    (click)="onEdit(row, $event)">
                </button>
                <button class="button button--clean" type="button" *ngIf="grid.getSetting('actions.delete')"
                    [innerHTML]="grid.getSetting('delete.deleteButtonContent')"
                    (click)="onDelete(row, $event)">
                </button>
            </td>
            <td class="table__actions" *ngIf="row.isInEditing && grid.showActionColumn('right')">
                <button class="button button--clean" type="button"
                    [innerHTML]="grid.getSetting('edit.saveButtonContent')"
                    (click)="onSave(row, $event)">
                </button>
                <button class="button button--clean" type="button"
                    [innerHTML]="grid.getSetting('edit.cancelButtonContent')"
                    (click)="onCancelEdit(row, $event)">
                </button>
            </td>
        </tr>

        <tr *ngIf="grid.getRows().length == 0">
            <td [attr.colspan]="grid.getColumns().length + (grid.getSetting('actions.add') || grid.getSetting('actions.edit') || grid.getSetting('actions.delete'))">
                {{ grid.getSetting('noDataMessage') }}
            </td>
        </tr>
    </tbody>
</table>

<ng2-smart-table-pager *ngIf="grid.getSetting('pager.display')"
    [source]="source"
    [perPage]="grid.getSetting('pager.perPage')"
    (changePage)="changePage($event)">
</ng2-smart-table-pager>
